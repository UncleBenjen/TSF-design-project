{% extends 'curriculum/base.html' %}

{% load static %}

{% block title %}{{ program_name }}{% endblock %}

{% block body_block %}
	<div class = "well hero-unit">
		<h1>CEAB Graduate Measurement</h1>
		<p></p>
		<h2>Course Instance: <a href = "/curriculum/instances/{{ course_url }}/{{ date_url }}/">{{ course_code}} - {{ date }}</a></h2>
		<hr>
		        <div class="row-fluid">
                    <div class="span12">
                        <p><strong>Name: {{ ceab }}</strong></p>
                        <div class="row-fluid">
                            <div class="span6">
                                <table class="table">
                                    <tr>
                                        <td>Attribute:</td>
                                        <td>{{ ceab.get_attribute_display }}</td>
                                    </tr>
                                    <tr>
                                        <td>Date:</td>
                                        <td>{{ ceab.date }}</td>
                                    </tr>
                                    <tr>
                                        <td>Measurement File:</td>
                                        <td><a href="#">{{ ceab.measurement_file }}</a></td>
                                    </tr>
                                    <tr>
                                        <td>Rubrik File:</td>
                                        <td><a href="#">{{ ceab.measurement_file }}</a></td>
                                    </tr>
                					<tr>
                                        <td>Number of students in measurement:</td>
                                        <td>{{ num_students }}</a></td>
                                    </tr>
                                </table>
                                
                            </div>
                            <div class="span6">
                                <!-- histogram of measurements for this CEAB grad -->
                                <canvas id="barChart2" width="400%" height="280%"></canvas>
                            </div>
                        </div>
                    </div>
            	</div>
                
                <div class="row-fluid">
                    <div class="span12">
                        <div class="row-fluid">
                            <div class="span4 offset4">
                                <div class="text-center"><a class="btn btn-success" href="/curriculum/add_scores/{{ parent_course.get_url }}/{{ instance.get_date }}/{{ ceab.get_url }}/">Add Student Scores</a></div>
                                <hr>

                            </div>
                        </div>
                    </div>
                </div>
		
	</div>
{% endblock %}
{% block script %}

<script type="text/javascript">
    $(document).ready(function(){
                    
                    // ~~ BAR CHART ~~
                    var bar_data={
                      	labels : ["Level 1","Level 2","Level 3","Level 4"],
                        datasets : [
                            {
                                fillColor : "rgba(128, 102, 255,0.3)",
                                strokeColor : "rgba(220,220,220,1)",
                                    data : [ {{sdf_Chemical_scores.level1 }} ,{{sdf_Chemical_scores.level2 }} , {{sdf_Chemical_scores.level3 }} ,{{sdf_Chemical_scores.level4 }}]
                            },
                            {
                            fillColor : "rgba(128, 102, 0,0.3)",
                            strokeColor : "rgba(220,220,220,1)",
                            data : [ {{sdf_Civil_scores.level1 }} ,{{sdf_Civil_scores.level2 }} , {{sdf_Civil_scores.level3 }} ,{{sdf_Civil_scores.level4 }}]
                            }
                        ]
                    }
					//Get the context of the canvas element we want to select
					var bar_ctx = document.getElementById("barChart2").getContext("2d");
					var bar_chart = new Chart(bar_ctx).Bar(bar_data);
					new Chart(bar_ctx).Bar(bar_data,Bar.defaults);
                      
	});
</script>
{% endblock %}